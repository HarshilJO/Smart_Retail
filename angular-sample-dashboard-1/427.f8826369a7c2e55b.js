"use strict";(self.webpackChunkangular_sample_dashboard_1=self.webpackChunkangular_sample_dashboard_1||[]).push([[427],{7427:(L,g,u)=>{u.r(g),u.d(g,{CustomerModule:()=>B});var d=u(6814),t=u(4769),c=u(2339),p=u(3213);const _=function(){return["/admin/customer-management"]},h=function(){return["/admin/products"]},b=function(){return["/admin/billing"]};let Z=(()=>{class n{constructor(o){this.utilsService=o}ngOnInit(){}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(c.F))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer"]],decls:49,vars:8,consts:[["id","layout-wrapper",1,"layout-wrapper"],[1,"navbar","col-lg-12","col-12","p-0","fixed-top","d-flex","flex-row"],[1,"text-center","navbar-brand-wrapper","d-flex","align-items-center","justify-content-center"],[1,"navbar-brand","brand-logo"],["src","../../assets/images/logo.svg","alt","logo"],[1,"navbar-brand","brand-logo-mini"],["src","../../assets/images/logo-mini.svg","alt","logo"],[1,"navbar-menu-wrapper","d-flex","align-items-center","justify-content-end"],[1,"navbar-nav","navbar-nav-right"],[1,"nav-item","nav-profile","dropdown"],["data-toggle","dropdown","id","profileDropdown",1,"nav-link","dropdown-toggle","pl-0","pr-0"],[1,"typcn","typcn-user-outline","mr-0"],[1,"nav-profile-name"],["aria-labelledby","profileDropdown",1,"dropdown-menu","dropdown-menu-right","navbar-dropdown"],[1,"dropdown-item",3,"click"],[1,"typcn","typcn-power","text-primary"],["type","button","data-toggle","offcanvas",1,"navbar-toggler","navbar-toggler-right","d-lg-none","align-self-center"],[1,"typcn","typcn-th-menu"],["id","sidebar",1,"sidebar","sidebar-offcanvas"],[1,"nav"],[1,"nav-item"],[1,"d-flex","sidebar-profile"],[1,"sidebar-profile-image"],["src","../../assets/images/faces/face1.jpg","alt","image"],[1,"sidebar-status-indicator"],[1,"sidebar-profile-name"],[1,"sidebar-name"],[1,"sidebar-designation"],["data-toggle","collapse","aria-expanded","false","aria-controls","ui-basic","routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"typcn","typcn-user-outline","menu-icon"],[1,"menu-title"],["data-toggle","collapse","aria-expanded","false","aria-controls","form-elements","routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"typcn","typcn-film","menu-icon"],["data-toggle","collapse","aria-expanded","false","aria-controls","charts","routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"typcn","typcn-news","menu-icon"],[1,"main-content"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"a",5),t._UZ(6,"img",6),t.qZA()(),t.TgZ(7,"div",7)(8,"ul",8)(9,"li",9)(10,"a",10),t._UZ(11,"i",11),t.TgZ(12,"span",12),t._uU(13),t.qZA()(),t.TgZ(14,"div",13)(15,"a",14),t.NdJ("click",function(){return e.utilsService.logout()}),t._UZ(16,"i",15),t._uU(17," Logout "),t.qZA()()()(),t.TgZ(18,"button",16),t._UZ(19,"span",17),t.qZA()()(),t.TgZ(20,"nav",18)(21,"ul",19)(22,"li",20)(23,"div",21)(24,"div",22),t._UZ(25,"img",23)(26,"span",24),t.qZA(),t.TgZ(27,"div",25)(28,"p",26),t._uU(29),t.qZA(),t.TgZ(30,"p",27),t._uU(31," Welcome "),t.qZA()()()(),t.TgZ(32,"li",20)(33,"a",28),t._UZ(34,"i",29),t.TgZ(35,"span",30),t._uU(36,"Customer"),t.qZA()()(),t.TgZ(37,"li",20)(38,"a",31),t._UZ(39,"i",32),t.TgZ(40,"span",30),t._uU(41,"Products"),t.qZA()()(),t.TgZ(42,"li",20)(43,"a",33),t._UZ(44,"i",34),t.TgZ(45,"span",30),t._uU(46,"Bill Generation"),t.qZA()()()()(),t.TgZ(47,"div",35),t._UZ(48,"router-outlet"),t.qZA()()),2&r&&(t.xp6(13),t.Oqu(e.utilsService.username),t.xp6(16),t.hij(" ",e.utilsService.username," "),t.xp6(4),t.Q6J("routerLink",t.DdM(5,_)),t.xp6(5),t.Q6J("routerLink",t.DdM(6,h)),t.xp6(5),t.Q6J("routerLink",t.DdM(7,b)))},dependencies:[p.lC,p.rH,p.Od]})}return n})(),f=(()=>{class n{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(r,e){1&r&&(t.TgZ(0,"p"),t._uU(1," dashboard works!\n"),t.qZA())}})}return n})();var T=u(6208),i=u(95);function C(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"button",28),t.NdJ("click",function(){const l=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.openAddEditModal(l))}),t._UZ(13,"i",2),t.qZA(),t.TgZ(14,"button",29),t.NdJ("click",function(){const l=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.onDeleteCustomer(l))}),t._UZ(15,"i",30),t.qZA()()()}if(2&n){const o=s.$implicit;t.xp6(2),t.Oqu(o.id),t.xp6(2),t.Oqu(o.name),t.xp6(2),t.Oqu(o.mobile),t.xp6(2),t.Oqu(o.email),t.xp6(2),t.Oqu(o.address)}}function q(n,s){1&n&&(t.TgZ(0,"tr")(1,"td",31)(2,"span",32)(3,"b"),t._uU(4,"No Record Found."),t.qZA()()()())}function A(n,s){1&n&&(t.TgZ(0,"span",33),t._uU(1,"Customer Name is required! "),t.qZA())}function v(n,s){1&n&&(t.TgZ(0,"span",33),t._uU(1,"Mobile No. is required! "),t.qZA())}function x(n,s){1&n&&(t.TgZ(0,"span",33),t._uU(1,"Email is required! "),t.qZA())}function M(n,s){1&n&&(t.TgZ(0,"span",33),t._uU(1,"Address is required! "),t.qZA())}let U=(()=>{class n{constructor(o,r){this.utilsService=o,this.fb=r,this.customerDetails=[],this.customerObj={id:null,name:null,mobile:null,address:null,email:null},this.getCustomerDetails()}ngOnInit(){this.customerAddEditModal=new window.bootstrap.Modal(document.getElementById("customerAddEditModal")),this.customerForm()}customerForm(){this.customerFormGroup=this.fb.group({name:["",i.kI.compose([i.kI.required])],mobile:["",i.kI.compose([i.kI.required])],address:["",i.kI.compose([i.kI.required])],email:["",i.kI.compose([i.kI.required,i.kI.pattern(this.utilsService.validationService.PATTERN_FOR_EMAIL)])]})}getCustomerDetails(){this.customerDetails=[],this.utilsService.getMethodAPI(!1,this.utilsService.serverVariableService.CUS_LISTING,{},r=>{this.customerDetails=r,console.log(this.customerDetails)})}openAddEditModal(o){this.customerObj={},this.customerFormGroup.reset(),o&&setTimeout(()=>{this.customerObj={id:o.id,name:o.name,mobile:o.mobile,address:o.address,email:o.email}},100),this.customerAddEditModal.show()}onSaveCustomer(){if(this.customerFormGroup.invalid)return void this.customerFormGroup.markAllAsTouched();const o={id:this.customerObj.id?this.customerObj.id:null,name:this.customerObj.name,mobile:Number(this.customerObj.mobile),address:this.customerObj.address,email:this.customerObj.email};this.utilsService.postMethodAPI(!0,this.utilsService.serverVariableService.CUS_ADD,o,r=>{this.customerAddEditModal.hide(),this.getCustomerDetails(),setTimeout(()=>{this.customerFormGroup.reset()},150)})}onDeleteCustomer(o){this.utilsService.postMethodAPI(!0,this.utilsService.serverVariableService.CUS_DELETE,{id:o.id},e=>{this.getCustomerDetails()})}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(c.F),t.Y36(i.qu))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-manegement"]],decls:64,vars:15,consts:[[1,"right-align","mt-2","me-2"],[1,"btn","btn-secondary","m-2","btn-sm",3,"click"],[1,"typcn","typcn-pencil"],[1,"table-responsive"],[1,"table","table-hover","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","customerAddEditModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["data-bs-dismiss","modal","aria-label","Close",1,"btn-icon"],[1,"mdi","mdi-close-box"],[1,"modal-body"],[1,"forms-sample",3,"formGroup"],[1,"form-group"],["for","exampleInputProduct"],["type","text","id","exampleInputProduct","placeholder","Customer Name","autocomplete","off","formControlName","name",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],["class","text-danger",4,"ngIf"],["for","exampleInputPrice"],["type","text","id","exampleInputPrice","placeholder","Mobile No","autocomplete","off","formControlName","mobile",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],["type","text","id","exampleInputPrice","placeholder","Email","autocomplete","off","formControlName","email",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],["for","exampleInputTax"],["type","text","id","exampleInputTax","placeholder","Address","autocomplete","off","formControlName","address",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary"],[1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary","btn-icon","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-icon","btn-sm",2,"margin-left","10px",3,"click"],[1,"typcn","typcn-trash"],["colspan","20",1,"text-center"],[1,"truncate"],[1,"text-danger"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return e.openAddEditModal(null)}),t._UZ(2,"i",2),t._uU(3,"Add Customer"),t.qZA()(),t.TgZ(4,"div",3)(5,"table",4)(6,"thead")(7,"tr")(8,"th")(9,"b"),t._uU(10,"#"),t.qZA()(),t.TgZ(11,"th")(12,"b"),t._uU(13,"Customer Name"),t.qZA()(),t.TgZ(14,"th")(15,"b"),t._uU(16,"Mobile No."),t.qZA()(),t.TgZ(17,"th")(18,"b"),t._uU(19,"Email"),t.qZA()(),t.TgZ(20,"th")(21,"b"),t._uU(22,"Address"),t.qZA()(),t.TgZ(23,"th")(24,"b"),t._uU(25,"Action"),t.qZA()()()(),t.TgZ(26,"tbody"),t.YNc(27,C,16,5,"tr",5),t.YNc(28,q,5,0,"tr",6),t.qZA()()(),t.TgZ(29,"div",7)(30,"div",8)(31,"div",9)(32,"div",10)(33,"h3",11),t._uU(34,"Product Details"),t.qZA(),t.TgZ(35,"a",12),t._UZ(36,"i",13),t.qZA()(),t.TgZ(37,"div",14)(38,"form",15)(39,"div",16)(40,"label",17),t._uU(41,"Customer Name"),t.qZA(),t.TgZ(42,"input",18),t.NdJ("ngModelChange",function(a){return e.customerObj.name=a}),t.qZA(),t.YNc(43,A,2,0,"span",19),t.qZA(),t.TgZ(44,"div",16)(45,"label",20),t._uU(46,"Mobile No."),t.qZA(),t.TgZ(47,"input",21),t.NdJ("ngModelChange",function(a){return e.customerObj.mobile=a}),t.qZA(),t.YNc(48,v,2,0,"span",19),t.qZA(),t.TgZ(49,"div",16)(50,"label",20),t._uU(51,"Email."),t.qZA(),t.TgZ(52,"input",22),t.NdJ("ngModelChange",function(a){return e.customerObj.email=a}),t.qZA(),t.YNc(53,x,2,0,"span",19),t.qZA(),t.TgZ(54,"div",16)(55,"label",23),t._uU(56,"Address"),t.qZA(),t.TgZ(57,"input",24),t.NdJ("ngModelChange",function(a){return e.customerObj.address=a}),t.qZA(),t.YNc(58,M,2,0,"span",19),t.qZA()()(),t.TgZ(59,"div",25)(60,"button",26),t._uU(61,"Close"),t.qZA(),t.TgZ(62,"button",27),t.NdJ("click",function(){return e.onSaveCustomer()}),t._uU(63,"Submit"),t.qZA()()()()()),2&r&&(t.xp6(27),t.Q6J("ngForOf",e.customerDetails),t.xp6(1),t.Q6J("ngIf",e.utilsService.isEmptyObjectOrNullUndefined(e.customerDetails)),t.xp6(10),t.Q6J("formGroup",e.customerFormGroup),t.xp6(4),t.Q6J("ngModel",e.customerObj.name)("maxlength",30),t.xp6(1),t.Q6J("ngIf",e.customerFormGroup.controls.name.hasError("required")&&e.customerFormGroup.controls.name.touched),t.xp6(4),t.Q6J("ngModel",e.customerObj.mobile)("maxlength",12),t.xp6(1),t.Q6J("ngIf",e.customerFormGroup.controls.mobile.hasError("required")&&e.customerFormGroup.controls.mobile.touched),t.xp6(4),t.Q6J("ngModel",e.customerObj.email)("maxlength",30),t.xp6(1),t.Q6J("ngIf",e.customerFormGroup.controls.email.hasError("required")&&e.customerFormGroup.controls.email.touched),t.xp6(4),t.Q6J("ngModel",e.customerObj.address)("maxlength",50),t.xp6(1),t.Q6J("ngIf",e.customerFormGroup.controls.address.hasError("required")&&e.customerFormGroup.controls.address.touched))},dependencies:[d.sg,d.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u],styles:[".right-align[_ngcontent-%COMP%]{text-align:right}"]})}return n})();function y(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"button",28),t.NdJ("click",function(){const l=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.openAddEditModal(l))}),t._UZ(13,"i",2),t.qZA(),t.TgZ(14,"button",29),t.NdJ("click",function(){const l=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.onDeleteProduct(l))}),t._UZ(15,"i",30),t.qZA()()()}if(2&n){const o=s.$implicit;t.xp6(2),t.Oqu(o.id),t.xp6(2),t.Oqu(o.name),t.xp6(2),t.Oqu(o.price),t.xp6(2),t.hij("",o.tax,"%"),t.xp6(2),t.Oqu(o.mrp)}}function I(n,s){1&n&&(t.TgZ(0,"tr")(1,"td",31)(2,"span",32)(3,"b"),t._uU(4,"No Record Found."),t.qZA()()()())}function O(n,s){1&n&&(t.TgZ(0,"span",18),t._uU(1,"Product Name is required! "),t.qZA())}function P(n,s){1&n&&(t.TgZ(0,"span",18),t._uU(1,"Price is required! "),t.qZA())}function N(n,s){1&n&&(t.TgZ(0,"span",18),t._uU(1,"Tax is required! "),t.qZA())}let G=(()=>{class n{constructor(o,r){this.utilsService=o,this.fb=r,this.productDetails=[],this.productObj={id:null,product_name:null,price:null,tax:null},this.getProductDetails()}ngOnInit(){this.addEditModalProduct=new window.bootstrap.Modal(document.getElementById("addEditModalProduct")),this.productForm()}getProductDetails(){this.productDetails=[],this.utilsService.getMethodAPI(!1,this.utilsService.serverVariableService.PRODUCT_LISTING,{},r=>{this.productDetails=r,console.log(this.productDetails)})}productForm(){this.productFormGroup=this.fb.group({product_name:["",i.kI.compose([i.kI.required])],price:["",i.kI.compose([i.kI.required])],tax:["",i.kI.compose([i.kI.required])]})}openAddEditModal(o){this.productObj={},this.productFormGroup.reset(),this.productObj.tax=0,o&&setTimeout(()=>{this.productObj={id:o.id,product_name:o.name,price:o.price,tax:o.tax}},100),this.addEditModalProduct.show()}onSaveUpdate(){if(this.productFormGroup.invalid)return void this.productFormGroup.markAllAsTouched();const o={id:this.productObj.id?Number(this.productObj.id):null,name:this.productObj.product_name,price:Number(this.productObj.price),tax:Number(this.productObj.tax)};this.utilsService.postMethodAPI(!0,this.utilsService.serverVariableService.ADD_PRODUCT,o,r=>{this.addEditModalProduct.hide(),this.getProductDetails(),setTimeout(()=>{this.productFormGroup.reset()},150)})}onDeleteProduct(o){this.utilsService.postMethodAPI(!0,this.utilsService.serverVariableService.DELETE_PRODUCT,{id:o.id},e=>{this.getProductDetails()})}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(c.F),t.Y36(i.qu))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-product"]],decls:65,vars:12,consts:[[1,"right-align","mt-2","me-2"],[1,"btn","btn-secondary","m-2","btn-sm",3,"click"],[1,"typcn","typcn-pencil"],[1,"table-responsive"],[1,"table","table-hover","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","addEditModalProduct","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["data-bs-dismiss","modal","aria-label","Close",1,"btn-icon"],[1,"mdi","mdi-close-box"],[1,"modal-body"],[1,"forms-sample",3,"formGroup"],[1,"form-group"],["for","exampleInputProduct"],[1,"text-danger"],["type","text","id","exampleInputProduct","placeholder","Product Name","autocomplete","off","formControlName","product_name",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],["class","text-danger",4,"ngIf"],["for","exampleInputPrice"],["type","text","id","exampleInputPrice","placeholder","Price","autocomplete","off","formControlName","price",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],["for","exampleInputTax"],["type","text","id","exampleInputTax","placeholder","Tax","autocomplete","off","formControlName","tax",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary"],[1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary","btn-icon","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-danger","btn-icon","btn-sm",2,"margin-left","10px",3,"click"],[1,"typcn","typcn-trash"],["colspan","20",1,"text-center"],[1,"truncate"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return e.openAddEditModal(null)}),t._UZ(2,"i",2),t._uU(3,"Add Product"),t.qZA()(),t.TgZ(4,"div",3)(5,"table",4)(6,"thead")(7,"tr")(8,"th")(9,"b"),t._uU(10,"#"),t.qZA()(),t.TgZ(11,"th")(12,"b"),t._uU(13,"Product Name"),t.qZA()(),t.TgZ(14,"th")(15,"b"),t._uU(16,"Price"),t.qZA()(),t.TgZ(17,"th")(18,"b"),t._uU(19,"Tax"),t.qZA()(),t.TgZ(20,"th")(21,"b"),t._uU(22,"Final Price"),t.qZA()(),t.TgZ(23,"th")(24,"b"),t._uU(25,"Action"),t.qZA()()()(),t.TgZ(26,"tbody"),t.YNc(27,y,16,5,"tr",5),t.YNc(28,I,5,0,"tr",6),t.qZA()()(),t.TgZ(29,"div",7)(30,"div",8)(31,"div",9)(32,"div",10)(33,"h3",11),t._uU(34,"Product Details"),t.qZA(),t.TgZ(35,"a",12),t._UZ(36,"i",13),t.qZA()(),t.TgZ(37,"div",14)(38,"form",15)(39,"div",16)(40,"label",17),t._uU(41,"Product Name"),t.TgZ(42,"span",18),t._uU(43,"*"),t.qZA()(),t.TgZ(44,"input",19),t.NdJ("ngModelChange",function(a){return e.productObj.product_name=a}),t.qZA(),t.YNc(45,O,2,0,"span",20),t.qZA(),t.TgZ(46,"div",16)(47,"label",21),t._uU(48,"Price"),t.TgZ(49,"span",18),t._uU(50,"*"),t.qZA()(),t.TgZ(51,"input",22),t.NdJ("ngModelChange",function(a){return e.productObj.price=a}),t.qZA(),t.YNc(52,P,2,0,"span",20),t.qZA(),t.TgZ(53,"div",16)(54,"label",23),t._uU(55,"Tax"),t.TgZ(56,"span",18),t._uU(57,"*"),t.qZA()(),t.TgZ(58,"input",24),t.NdJ("ngModelChange",function(a){return e.productObj.tax=a}),t.qZA(),t.YNc(59,N,2,0,"span",20),t.qZA()()(),t.TgZ(60,"div",25)(61,"button",26),t._uU(62,"Close"),t.qZA(),t.TgZ(63,"button",27),t.NdJ("click",function(){return e.onSaveUpdate()}),t._uU(64,"Submit"),t.qZA()()()()()),2&r&&(t.xp6(27),t.Q6J("ngForOf",e.productDetails),t.xp6(1),t.Q6J("ngIf",e.utilsService.isEmptyObjectOrNullUndefined(e.productDetails)),t.xp6(10),t.Q6J("formGroup",e.productFormGroup),t.xp6(6),t.Q6J("ngModel",e.productObj.product_name)("maxlength",25),t.xp6(1),t.Q6J("ngIf",e.productFormGroup.controls.product_name.hasError("required")&&e.productFormGroup.controls.product_name.touched),t.xp6(6),t.Q6J("ngModel",e.productObj.price)("maxlength",10),t.xp6(1),t.Q6J("ngIf",e.productFormGroup.controls.price.hasError("required")&&e.productFormGroup.controls.price.touched),t.xp6(6),t.Q6J("ngModel",e.productObj.tax)("maxlength",25),t.xp6(1),t.Q6J("ngIf",e.productFormGroup.controls.tax.hasError("required")&&e.productFormGroup.controls.tax.touched))},dependencies:[d.sg,d.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u],styles:[".right-align[_ngcontent-%COMP%]{text-align:right}"]})}return n})();var F=u(9317);function D(n,s){if(1&n){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"input",39),t.NdJ("ngModelChange",function(e){const a=t.CHM(o).$implicit;return t.KtG(a.quantity=e)}),t.qZA()(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"input",40),t.NdJ("ngModelChange",function(e){const a=t.CHM(o).$implicit;return t.KtG(a.discount=e)}),t.qZA()(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td")(16,"button",41),t.NdJ("click",function(){const l=t.CHM(o).$implicit,a=t.oxw();return t.KtG(a.onDeleteProduct(l))}),t._UZ(17,"i",42),t.qZA()()()}if(2&n){const o=s.$implicit;t.xp6(2),t.Oqu(o.id),t.xp6(2),t.Oqu(o.product_name),t.xp6(2),t.Q6J("ngModel",o.quantity),t.xp6(2),t.Oqu(o.GST),t.xp6(2),t.Oqu(o.Price),t.xp6(2),t.Q6J("ngModel",o.discount),t.xp6(2),t.Oqu(o.total)}}function J(n,s){if(1&n&&(t.TgZ(0,"tr"),t._UZ(1,"td")(2,"td"),t.TgZ(3,"td")(4,"b"),t._uU(5),t.qZA()(),t._UZ(6,"td"),t.TgZ(7,"td")(8,"b"),t._uU(9),t.qZA()(),t._UZ(10,"td"),t.TgZ(11,"td"),t._uU(12,"Final Total"),t.qZA(),t._UZ(13,"td"),t.qZA()),2&n){const o=t.oxw();t.xp6(5),t.Oqu(o.quantityTotal),t.xp6(4),t.Oqu(o.priceTotal)}}function k(n,s){1&n&&(t.TgZ(0,"tr")(1,"td",43)(2,"span",44)(3,"b"),t._uU(4,"No Record Found."),t.qZA()()()())}function S(n,s){1&n&&(t.TgZ(0,"span",28),t._uU(1,"Product Name is required! "),t.qZA())}function E(n,s){1&n&&(t.TgZ(0,"span",28),t._uU(1,"Price is required! "),t.qZA())}function j(n,s){1&n&&(t.TgZ(0,"span",28),t._uU(1,"Quantity is required! "),t.qZA())}function Q(n,s){1&n&&(t.TgZ(0,"span",28),t._uU(1,"Tax is required! "),t.qZA())}const w=[{path:"",component:Z,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:f},{path:"customer-management",component:U},{path:"products",component:G},{path:"billing",component:(()=>{class n{constructor(o,r){this.utilsService=o,this.fb=r,this.demoItems=[],this.billingDetails=[],this.productLising=[],this.productObj={id:null,product_name:null,price:null,tax:null,discount:null,total:null}}ngOnInit(){this.addEditProductBilling=new window.bootstrap.Modal(document.getElementById("addEditProductBilling")),this.getCustomerDetails(),this.productForm()}productForm(){this.productFormGroup=this.fb.group({product_name:["",i.kI.compose([i.kI.required])],price:["",i.kI.compose([i.kI.required])],quantity:["",i.kI.compose([i.kI.required])],tax:["",i.kI.compose([i.kI.required])]})}getCustomerDetails(){this.demoItems=[],this.utilsService.getMethodAPI(!1,this.utilsService.serverVariableService.CUS_LISTING,{},r=>{this.demoItems=r,console.log(this.demoItems)})}getBillingDetails(){this.priceTotal=0,this.quantityTotal=0,this.billingDetails=[],this.utilsService.postMethodAPI(!1,this.utilsService.serverVariableService.BILLING_GET_METHOD,{cust_id:this.customerId},r=>{this.billingDetails=r;let e=this.billingDetails[0].product.map(a=>a.quantity),l=this.billingDetails[0].product.map(a=>a.Price);console.log(this.billingDetails[0].product),this.quantityTotal=e.reduce((a,m)=>a+m,0),this.priceTotal=l.reduce((a,m)=>a+m,0)})}onCustomerChange(){this.customerId=this.activeStatus,this.getBillingDetails()}onDeleteProduct(o){const r={id:Number(this.activeStatus),pid:o.id};this.utilsService.postMethodAPI(!1,this.utilsService.serverVariableService.PRODUCT_DELETE,r,e=>{this.getBillingDetails()})}openAddProductModal(){this.productFormGroup.reset(),this.addEditProductBilling.show()}onSave(){if(this.productFormGroup.invalid)return void this.productFormGroup.markAllAsTouched();const o={cust_id:Number(this.activeStatus),product_name:this.productObj.product_name,price:this.productObj.price,cquantity:Number(this.productObj.quantity),tax:Number(this.productObj.tax)};this.utilsService.postMethodAPI(!1,this.utilsService.serverVariableService.BILLING_POST,o,r=>{this.getBillingDetails(),this.addEditProductBilling.hide()})}onSaveBill(){}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(c.F),t.Y36(i.qu))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-billing-generation"]],decls:107,vars:23,consts:[[1,"m-4"],[1,"m-1"],[1,"mt-3",2,"width","350px"],["bindLabel","name","bindValue","id","appendTo","body","placeholder","Customer",1,"theme-ngselect",3,"items","ngModel","clearable","change","ngModelChange"],[1,"btn","btn-secondary","mt-3","btn-sm",3,"disabled","click"],[1,"typcn","typcn-pencil"],[1,"below-drop"],[1,"mt-2"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-hover","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mt-2","me-2","row"],[1,"col","text-start"],[1,"btn","btn-secondary","m-2","btn-sm"],[1,"col","right-align"],["id","addEditProductBilling","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["data-bs-dismiss","modal","aria-label","Close",1,"btn-icon"],[1,"mdi","mdi-close-box"],[1,"modal-body"],[1,"forms-sample",3,"formGroup"],[1,"form-group"],["for","exampleInputProduct"],[1,"text-danger"],["type","text","id","exampleInputProduct","placeholder","Product Name","autocomplete","off","formControlName","product_name",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],["class","text-danger",4,"ngIf"],["for","exampleInputPrice"],["type","text","id","exampleInputPrice","placeholder","Price","autocomplete","off","formControlName","price",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],["for","exampleInputTax"],["type","text","id","exampleInputTax","placeholder","Quantity","autocomplete","off","formControlName","quantity",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],["type","text","id","exampleInputTax","placeholder","Tax","autocomplete","off","formControlName","tax",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary"],[1,"btn","btn-secondary",3,"click"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-danger","btn-icon","btn-sm",2,"margin-left","10px",3,"click"],[1,"typcn","typcn-trash"],["colspan","20",1,"text-center"],[1,"truncate"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Select Customer"),t.qZA(),t.TgZ(3,"div",2)(4,"ng-select",3),t.NdJ("change",function(){return e.onCustomerChange()})("ngModelChange",function(a){return e.activeStatus=a}),t.qZA()(),t.TgZ(5,"div")(6,"button",4),t.NdJ("click",function(){return e.openAddProductModal()}),t._UZ(7,"i",5),t._uU(8," Add New Product"),t.qZA()(),t.TgZ(9,"div",6)(10,"span",7)(11,"b"),t._uU(12,"Email:"),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"span",8)(15,"b"),t._uU(16,"Mobile:"),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"span",8)(19,"b"),t._uU(20,"Address:"),t.qZA(),t._uU(21),t.qZA()(),t._UZ(22,"hr"),t.TgZ(23,"div",9)(24,"table",10)(25,"thead")(26,"tr")(27,"th")(28,"b"),t._uU(29,"#"),t.qZA()(),t.TgZ(30,"th")(31,"b"),t._uU(32,"Product Name"),t.qZA()(),t.TgZ(33,"th")(34,"b"),t._uU(35,"Quantity"),t.qZA()(),t.TgZ(36,"th")(37,"b"),t._uU(38,"GST"),t.qZA()(),t.TgZ(39,"th")(40,"b"),t._uU(41,"Price"),t.qZA()(),t.TgZ(42,"th")(43,"b"),t._uU(44,"Discount"),t.qZA()(),t.TgZ(45,"th")(46,"b"),t._uU(47,"Total"),t.qZA()(),t.TgZ(48,"th")(49,"b"),t._uU(50,"Action"),t.qZA()()()(),t.TgZ(51,"tbody"),t.YNc(52,D,18,7,"tr",11),t.YNc(53,J,14,2,"tr",12),t.YNc(54,k,5,0,"tr",12),t.qZA()()(),t.TgZ(55,"div",13)(56,"div",14)(57,"button",15),t._UZ(58,"i",5),t._uU(59," Save Bill"),t.qZA()(),t.TgZ(60,"div",16)(61,"button",15),t._UZ(62,"i",5),t._uU(63," Print Bill"),t.qZA()()()(),t.TgZ(64,"div",17)(65,"div",18)(66,"div",19)(67,"div",20)(68,"h3",21),t._uU(69,"Product Details"),t.qZA(),t.TgZ(70,"a",22),t._UZ(71,"i",23),t.qZA()(),t.TgZ(72,"div",24)(73,"form",25)(74,"div",26)(75,"label",27),t._uU(76,"Product Name"),t.TgZ(77,"span",28),t._uU(78,"*"),t.qZA()(),t.TgZ(79,"input",29),t.NdJ("ngModelChange",function(a){return e.productObj.product_name=a}),t.qZA(),t.YNc(80,S,2,0,"span",30),t.qZA(),t.TgZ(81,"div",26)(82,"label",31),t._uU(83,"Price"),t.TgZ(84,"span",28),t._uU(85,"*"),t.qZA()(),t.TgZ(86,"input",32),t.NdJ("ngModelChange",function(a){return e.productObj.price=a}),t.qZA(),t.YNc(87,E,2,0,"span",30),t.qZA(),t.TgZ(88,"div",26)(89,"label",33),t._uU(90,"Quantity"),t.TgZ(91,"span",28),t._uU(92,"*"),t.qZA()(),t.TgZ(93,"input",34),t.NdJ("ngModelChange",function(a){return e.productObj.quantity=a}),t.qZA(),t.YNc(94,j,2,0,"span",30),t.qZA(),t.TgZ(95,"div",26)(96,"label",33),t._uU(97,"Tax"),t.TgZ(98,"span",28),t._uU(99,"*"),t.qZA()(),t.TgZ(100,"input",35),t.NdJ("ngModelChange",function(a){return e.productObj.tax=a}),t.qZA(),t.YNc(101,Q,2,0,"span",30),t.qZA()()(),t.TgZ(102,"div",36)(103,"button",37),t._uU(104,"Close"),t.qZA(),t.TgZ(105,"button",38),t.NdJ("click",function(){return e.onSave()}),t._uU(106,"Submit"),t.qZA()()()()()),2&r&&(t.xp6(4),t.Q6J("items",e.demoItems)("ngModel",e.activeStatus)("clearable",!0),t.xp6(2),t.Q6J("disabled",!e.activeStatus),t.xp6(7),t.hij(" ",null==e.billingDetails[0]?null:e.billingDetails[0].email,""),t.xp6(4),t.hij(" ",null==e.billingDetails[0]?null:e.billingDetails[0].mobile,""),t.xp6(4),t.hij(" ",null==e.billingDetails[0]?null:e.billingDetails[0].address,""),t.xp6(31),t.Q6J("ngForOf",null==e.billingDetails[0]?null:e.billingDetails[0].product),t.xp6(1),t.Q6J("ngIf",null==e.billingDetails[0]?null:e.billingDetails[0].product),t.xp6(1),t.Q6J("ngIf",e.utilsService.isEmptyObjectOrNullUndefined(e.billingDetails[0])),t.xp6(19),t.Q6J("formGroup",e.productFormGroup),t.xp6(6),t.Q6J("ngModel",e.productObj.product_name)("maxlength",25),t.xp6(1),t.Q6J("ngIf",e.productFormGroup.controls.product_name.hasError("required")&&e.productFormGroup.controls.product_name.touched),t.xp6(6),t.Q6J("ngModel",e.productObj.price)("maxlength",10),t.xp6(1),t.Q6J("ngIf",e.productFormGroup.controls.price.hasError("required")&&e.productFormGroup.controls.price.touched),t.xp6(6),t.Q6J("ngModel",e.productObj.quantity)("maxlength",25),t.xp6(1),t.Q6J("ngIf",e.productFormGroup.controls.quantity.hasError("required")&&e.productFormGroup.controls.quantity.touched),t.xp6(6),t.Q6J("ngModel",e.productObj.tax)("maxlength",25),t.xp6(1),t.Q6J("ngIf",e.productFormGroup.controls.tax.hasError("required")&&e.productFormGroup.controls.tax.touched))},dependencies:[d.sg,d.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.nD,i.sg,i.u,i.On,F.w9],styles:[".right-align[_ngcontent-%COMP%]{text-align:right}.below-drop[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px}"]})}return n})()}]}];let B=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[d.ez,T.m.forRoot(),p.Bz.forChild(w)]})}return n})()}}]);